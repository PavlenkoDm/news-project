{"mappings":"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","sources":["node_modules/@swc/helpers/lib/_iterable_to_array.js","node_modules/@swc/helpers/lib/_unsupported_iterable_to_array.js","node_modules/@swc/helpers/lib/_array_like_to_array.js","node_modules/@swc/helpers/lib/_to_consumable_array.js","node_modules/@swc/helpers/lib/_array_without_holes.js","node_modules/@swc/helpers/lib/_non_iterable_spread.js","src/js/home-favourites-read.js","node_modules/@swc/helpers/lib/_object_spread.js","node_modules/@swc/helpers/lib/_define_property.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _iterableToArray;\nfunction _iterableToArray(iter) {\n    if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _unsupportedIterableToArray;\nvar _arrayLikeToArray = _interopRequireDefault(require(\"./_array_like_to_array\"));\nfunction _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return (0, _arrayLikeToArray).default(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(n);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return (0, _arrayLikeToArray).default(o, minLen);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _arrayLikeToArray;\nfunction _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];\n    return arr2;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _toConsumableArray;\nvar _arrayWithoutHoles = _interopRequireDefault(require(\"./_array_without_holes\"));\nvar _iterableToArray = _interopRequireDefault(require(\"./_iterable_to_array\"));\nvar _nonIterableSpread = _interopRequireDefault(require(\"./_non_iterable_spread\"));\nvar _unsupportedIterableToArray = _interopRequireDefault(require(\"./_unsupported_iterable_to_array\"));\nfunction _toConsumableArray(arr) {\n    return (0, _arrayWithoutHoles).default(arr) || (0, _iterableToArray).default(arr) || (0, _unsupportedIterableToArray).default(arr) || (0, _nonIterableSpread).default();\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _arrayWithoutHoles;\nvar _arrayLikeToArray = _interopRequireDefault(require(\"./_array_like_to_array\"));\nfunction _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) return (0, _arrayLikeToArray).default(arr);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _nonIterableSpread;\nfunction _nonIterableSpread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n","import { onGetLocaleStorageData, refs } from './refs';\n\nrefs.newsGallery.addEventListener('click', onReadMoreClick);\n\n//============== Функция обработчик по клику на ссылку ReadMore:\nexport function onReadMoreClick(event) {\n  event.preventDefault();\n  if (!event.target.classList.contains('markup-unit__global-link')) return;\n\n  const clickDate = receiveDate(); // получаем дату клика в виде 20/02/2023\n  const parsedCardData = makeParseJson(event.target.dataset.favorite); // получаем объект данных с карточки которая находится на странице\n  const dataFromLocaleStorage = onGetLocaleStorageData(refs.READ_KEY); // получаем массив объектов прочитанных новостей из Локального Хранилища\n\n  if (!dataFromLocaleStorage) {\n    onSetLocaleStorageData(refs.READ_KEY, [{...parsedCardData, viewDate: clickDate}]);\n    return;\n  }\n\n  if (!dataFromLocaleStorage.some(news => news.link === parsedCardData.link)) {\n    onSetLocaleStorageData(refs.READ_KEY, [\n      ...dataFromLocaleStorage,\n      {...parsedCardData, viewDate: clickDate}\n    ]);\n    return;\n  }\n}\n\n//============ Логика страницы Index, действие с Фавориты:\nrefs.newsGallery.addEventListener('click', onAddRemoveLocaleStorageData); // вешаем слушателя событий на контейнер с новостями\n\n//=========== Функция-обработчик Клика на кнопку добавить/убрать в/из Фавориты:\nexport function onAddRemoveLocaleStorageData(event) {\n  if (!event.target.hasAttribute(\"data-info\")) return; // проверка туда ли тырнули\n  \n  const parsedCardData = makeParseJson(event.target.dataset.favorite); // получаем объект данных с карточки которая находится на странице\n  const dataFromLocaleStorage = onGetLocaleStorageData(refs.FAVORITES_KEY); // получаем массив объектов из Локального Хранилища\n\n  if (!dataFromLocaleStorage) {\n    onSetLocaleStorageData(refs.FAVORITES_KEY, [parsedCardData]);\n    changeButton(event.target, 'add')\n    return;\n  }\n\n  if (!dataFromLocaleStorage.some(news => news.link === parsedCardData.link)) {\n    onSetLocaleStorageData(refs.FAVORITES_KEY, [\n      ...dataFromLocaleStorage,\n      parsedCardData,\n    ]);\n    changeButton(event.target, 'add');\n  } else {\n    onSetLocaleStorageData(\n      refs.FAVORITES_KEY,\n      dataFromLocaleStorage.filter(news => news.link !== parsedCardData.link)\n    );\n    changeButton(event.target, 'remove');\n    onGetLocaleStorageData(refs.FAVORITES_KEY).length === 0 ? localStorage.removeItem(refs.FAVORITES_KEY) : null;\n  }\n}\n\n\n//========== Функция парсинга данных из JSON файла:\nexport function makeParseJson(stringData) {\n  try {\n    return JSON.parse(stringData);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\n//========== Функкция Добавления Данных в Locale Storage:\nexport function onSetLocaleStorageData(key, data) {\n  try {\n    localStorage.setItem(key, JSON.stringify(data));\n  } catch (error) {\n    console.log(error);\n  }\n}\n\n//========== Функция получения даты в формате 20/02/2021\nexport function receiveDate() {\n  const date = new Date();\n  const day = addLeadingZero(date.getDate());\n  const month = addLeadingZero(date.getMonth() + 1);\n  const year = addLeadingZero(date.getFullYear());\n  return `${day}/${month}/${year}`;\n}\nexport function addLeadingZero(value) {\n  return String(value).padStart(2, '0');\n}\n\nfunction changeButton(eTarget, action) {\n  if (action === 'add') {\n    eTarget.firstElementChild.textContent = 'Remove from Favourites';\n    eTarget.firstElementChild.setAttribute('style', 'pointer-events: none');\n    eTarget.lastElementChild.classList.replace(\n      'markup-unit__favorite-icon',\n      'markup-unit__favorite-icon--active'\n    );\n    eTarget.lastElementChild.setAttribute('style', 'pointer-events: none');\n  }\n\n  if (action === 'remove') {\n    eTarget.firstElementChild.textContent = 'Add to Favourites';\n    eTarget.firstElementChild.setAttribute('style', 'pointer-events: none');\n    eTarget.lastElementChild.classList.replace(\n      'markup-unit__favorite-icon--active',\n      'markup-unit__favorite-icon'\n    );\n    eTarget.lastElementChild.setAttribute('style', 'pointer-events: none');\n  }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _objectSpread;\nvar _defineProperty = _interopRequireDefault(require(\"./_define_property\"));\nfunction _objectSpread(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        var ownKeys = Object.keys(source);\n        if (typeof Object.getOwnPropertySymbols === 'function') {\n            ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n            }));\n        }\n        ownKeys.forEach(function(key) {\n            (0, _defineProperty).default(target, key, source[key]);\n        });\n    }\n    return target;\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _defineProperty;\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\n"],"names":["Object","defineProperty","module","exports","value","default","iter","Symbol","iterator","Array","from","o","minLen","$7a2c4c4c44c69707$var$_arrayLikeToArray","n","prototype","toString","call","slice","constructor","name","test","obj","parcelRequire","__esModule","arr","len","length","i","arr2","$6195f07b5409ba15$var$_arrayWithoutHoles","$6195f07b5409ba15$var$_iterableToArray","$6195f07b5409ba15$var$_unsupportedIterableToArray","$6195f07b5409ba15$var$_nonIterableSpread","$6195f07b5409ba15$var$_interopRequireDefault","isArray","$f215c72f040a88cf$var$_arrayLikeToArray","TypeError","$dDDEV","$dc8c4865b6888e7f$export$cd221eff0bf2855a","event","preventDefault","target","classList","contains","date","day","month","year","clickDate","Date","$dc8c4865b6888e7f$export$b69ee541cb46e797","getDate","getMonth","getFullYear","concat","parsedCardData","$dc8c4865b6888e7f$export$c614af795629961e","dataset","favorite","dataFromLocaleStorage","$4Nugj","onGetLocaleStorageData","refs","READ_KEY","some","news","link","$dc8c4865b6888e7f$export$87545ee602204a13","$parcel$interopDefault","$8nrFW","viewDate","stringData","JSON","parse","error","console","log","key","data","localStorage","setItem","stringify","String","padStart","$dc8c4865b6888e7f$var$changeButton","eTarget","action","firstElementChild","textContent","setAttribute","lastElementChild","replace","newsGallery","addEventListener","hasAttribute","FAVORITES_KEY","filter","removeItem","arguments","source","ownKeys","keys","getOwnPropertySymbols","sym","getOwnPropertyDescriptor","enumerable","forEach","$9eddae5a012cde57$var$_defineProperty","configurable","writable"],"version":3,"file":"index.12e4fea4.js.map"}